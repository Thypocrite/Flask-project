{% extends "base.html" %}
{% block title %}homepage{% endblock %}
{% block content %}

<style>
  .product {
    width: 20%;
    /* Set the width of each product to fit four in a row */
    margin: 1%;
    padding: 10px;
    border: 1px solid #ccc;
    display: inline-block;
    vertical-align: top;
  }
</style>

<body>
  <div class="container">
    <div class="product-list">
      {% for product in products %}
      <div class="product">
        <form action="add_to_cart" method="post">
          <img src="{{ product[3] }}" alt="{{ product[1] }}">
          <h3>{{ product[1] }}</h3>
          <p>NT${{ product[2] }}</p>
          <!-- Add other product details and formatting as needed -->
          <input type="hidden" name="product_id" value="{{ product[0] }}">
          <input type="hidden" name="page_url" value="/homepage">
          <button type="submit" class="button">加入購物車</button>
        </form>
        <a href="salePage/{{ product[0] }}" class="button">商品詳情</a>

      </div>
      {% if loop.index % 4 == 0 %}
      <div style="clear: both;"></div> <!-- Clear the float every four products -->

      {% endif %}

      {% endfor %}
    </div>
  </div>
</body>

{% endblock %}