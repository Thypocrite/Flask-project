{% extends "base.html" %}
{% block title %}cart{% endblock %}
{% block content %}
<style>
    .card {
        width: 288px;
        align-items: center;
        display: -webkit-inline-flex;
        justify-content: space-between;
        margin: 2 auto;
    }
</style>


<body>
    <h1>Shopping Cart</h1>

    <table>
        <thead>
            <tr>
                <th>Product</th>
                <th>Price</th>
            </tr>
        </thead>
        <tbody>
            {% if cart %}
            {% for item in cart %}
            <div class="card">
                <ul>
                    <li><img src="{{item.image_url}}" alt="{{item.name}}"> </li>
                    <li>{{ item.name }}</li>
                    <li>{{ item.price }}</td>
                    <li>
                        <!-- Add a "Remove" button with a form -->
                        <form action="/remove_from_cart" method="POST">
                            <h1>{{ item.product_id }}</h1>
                            <input type="hidden" name="product_id" value="{{ item.product_id }}">
                            <button type="submit">Remove</button>
                        </form>
                    </li>
                </ul>
            </div>
            {% endfor %}
            {% else %}
            <tr>
                <td colspan="2">Your cart is empty.</td>
                </div>
                {% endif %}
        </tbody>
    </table>
    <p>Total Price: ${{ total_price }}</p>

    <a href="/">Continue Shopping</a>

    <form action="/purchase" method="post">
        <input type="submit" name="purchase" value="確認購買">
    </form>
    <!-- 
    <button onclick="confirmPurchase()">Purchase</button>

    <script>
        function confirmPurchase() {
            // Display a confirmation dialog
            var confirmation = confirm("Are you sure you want to make this purchase?");
            
            // Check the user's choice
            if (confirmation) {
                // User clicked "OK," so you can proceed with the purchase action.
                alert("Purchase successful!");
                // You can add code here to actually process the purchase.
            } else {
                // User clicked "Cancel" or closed the dialog, so nothing happens.
                alert("Purchase canceled.");
            }
        }
    </script> -->

</body>

{% endblock %}